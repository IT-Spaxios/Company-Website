RewriteEngine On
RewriteBase /

# -------------------------------------------------
# 0. Force HTTPS + www
# -------------------------------------------------
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^ https://www.itspaxiosinnovation.in%{REQUEST_URI} [L,R=301]

# -------------------------------------------------
# 1. Redirect /page.html → /page
# -------------------------------------------------
RewriteCond %{THE_REQUEST} \s/+([^.]+)\.html[\s?] [NC]
RewriteRule ^ %1/ [R=301,L]

# -------------------------------------------------
# 2. Serve .html without typing it
# -------------------------------------------------
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+?)/?$ $1.html [L,QSA]

# -------------------------------------------------
# 3. Redirect index.html → /
# -------------------------------------------------
RewriteCond %{THE_REQUEST} \s/+(.*/)?index\.html[\s?] [NC]
RewriteRule ^ %1 [R=301,L]
